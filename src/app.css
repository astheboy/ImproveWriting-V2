/* 한국어 폰트 기본 설정 - @import는 가장 먼저 위치 */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined');

/* Tailwind CSS 기본 임포트 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 기본 스타일 설정 */
@layer base {
  html, body {
    font-family: 'Noto Sans KR', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    min-height: 100vh;
    min-height: 100dvh;
  }
}

/* 커스텀 컴포넌트 클래스 */
@layer components {
  /* 텍스트 색상 유틸리티 */
  .text-heading-primary {
    @apply text-[text-heading-light] dark:text-[text-heading-dark];
  }
  
  .text-body {
    @apply text-[text-body-light] dark:text-[text-body-dark];
  }
  
  /* 배경 색상 유틸리티 */
  .bg-subtle {
    @apply bg-\[background-subtle-light\] dark:bg-\[background-subtle-dark\];
  }
  
  /* 보더 색상 유틸리티 */
  .border-subtle {
    @apply border-\[border-subtle-light\] dark:border-\[border-subtle-dark\];
  }
  
  /* 기본 버튼 스타일 */
  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply btn bg-primary hover:bg-primary-600 text-white shadow-lg hover:shadow-xl focus:ring-primary-500 hover:scale-105 active:scale-95;
  }
  
  .btn-secondary {
    @apply btn bg-subtle text-heading-primary border border-subtle hover:bg-primary/5 focus:ring-primary-500;
  }
  
  .btn-outline {
    @apply btn border-2 border-primary text-primary hover:bg-primary hover:text-white focus:ring-primary-500;
  }
  
  .btn-ghost {
    @apply btn text-heading-primary hover:bg-primary/10 focus:ring-primary-500;
  }
  
  /* 버튼 크기 변형 */
  .btn-sm {
    @apply px-3 py-1.5 text-sm h-8;
  }
  
  .btn-md {
    @apply px-4 py-2 text-base h-10;
  }
  
  .btn-lg {
    @apply px-6 py-3 text-lg h-12;
  }
  
  .btn-xl {
    @apply px-8 py-4 text-xl h-14;
  }
  
  /* 아이콘 버튼 */
  .icon-btn {
    @apply flex items-center justify-center rounded-full transition-colors duration-200;
  }
  
  .icon-btn-sm {
    @apply icon-btn w-8 h-8;
  }
  
  .icon-btn-md {
    @apply icon-btn w-10 h-10;
  }
  
  .icon-btn-lg {
    @apply icon-btn w-12 h-12;
  }
  
  /* 카드 컴포넌트 */
  .card {
    @apply bg-white dark:bg-subtle rounded-xl shadow-sm border border-subtle;
  }
  
  .card-hover {
    @apply card hover:shadow-md transition-shadow duration-200;
  }
  
  .card-clickable {
    @apply card-hover cursor-pointer hover:scale-[1.02] transition-transform duration-200;
  }
  
  /* 통계 카드 */
  .stat-card {
    @apply card p-4 flex flex-col items-center justify-center text-center;
  }
  
  .stat-card-value {
    @apply text-3xl font-black text-primary;
  }
  
  .stat-card-label {
    @apply text-sm text-body;
  }
  
  /* 입력 필드 */
  .input {
    @apply w-full px-4 py-2 border border-subtle rounded-xl bg-white dark:bg-\[background-subtle-dark\] text-heading-primary placeholder-text-body focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors;
  }
  
  .input-error {
    @apply input border-red-300 focus:ring-red-500;
  }
  
  /* 레이아웃 */
  .header {
    @apply flex items-center justify-between p-4 bg-\[background-light\] dark:bg-\[background-dark\] border-b border-subtle;
  }
  
  .footer {
    @apply bg-\[background-light\]/80 dark:bg-\[background-dark\]/80 backdrop-blur-sm border-t border-primary/20;
  }
  
  /* 내비게이션 */
  .nav-item {
    @apply flex flex-col items-center justify-center w-full text-gray-500 dark:text-gray-400 hover:text-primary transition-colors;
  }
  
  .nav-item-active {
    @apply nav-item text-primary bg-primary/10 dark:bg-primary/20 rounded-lg py-1;
  }
  
  /* 모달 */
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4;
  }
  
  .modal-content {
    @apply bg-white dark:bg-\[background-dark\] rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto;
  }
  
  /* 로딩 애니메이션 */
  .loading-spinner {
    @apply animate-spin rounded-full border-b-2 border-primary;
  }
  
  /* 그리드 레이아웃 */
  .grid-responsive {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4;
  }
  
  .grid-responsive-2 {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-6;
  }
}

/* 유틸리티 클래스 */
@layer utilities {
  /* 텍스트 트렁케이션 */
  .text-truncate {
    @apply truncate;
  }
  
  .text-truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .text-truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* 스크롤바 스타일링 */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* 포커스 아웃라인 제거 */
  .focus-visible-only:focus:not(:focus-visible) {
    outline: none;
  }
  
  /* 안전한 영역 패딩 (iOS Safari) */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
}

/* 다크모드 전환 애니메이션 */
@media (prefers-reduced-motion: no-preference) {
  html {
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  * {
    transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
  }
}